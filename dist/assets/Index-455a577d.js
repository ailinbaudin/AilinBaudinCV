import{r as x,a as w,b as r,c as m,d as e,C as U,t as v,e as u,n as b,s as k,k as y,x as $,D as V,j as C,E as T,w as j,l as B,o as S,G as D}from"./index-4d150a88.js";const L={class:"flex flex-column h-full"},M={class:"flex align-items-center border-bottom-1 surface-border p-3 lg:p-6"},N={class:"relative flex align-items-center mr-3"},O=["src","alt"],q={class:"mr-2"},E={class:"text-900 font-semibold block"},J=e("span",{class:"text-700"},"Last active 1 hour ago",-1),K={class:"flex align-items-center ml-auto"},P={class:"user-message-container p-3 md:px-4 lg:px-6 lg:py-4 mt-2 overflow-y-auto",style:{"max-height":"53vh"}},z={key:0,class:"grid grid-nogutter mb-4"},F={class:"mr-3 mt-1"},G=["src","alt"],H={class:"col mt-3"},Q={class:"text-900 font-semibold mb-3"},R={class:"text-700 inline-block font-medium border-1 surface-border p-3 white-space-normal border-round",style:{"word-break":"break-word","max-width":"80%"}},W={class:"text-700 mt-3"},X=e("i",{class:"pi pi-check ml-2 text-green-400"},null,-1),Y={key:1,class:"grid grid-nogutter mb-4"},Z={class:"col mt-3 text-right"},ee={class:"inline-block text-left font-medium border-1 surface-border bg-primary-100 text-primary-900 p-3 white-space-normal border-round",style:{"word-break":"break-word","max-width":"80%"}},te={class:"text-700 mt-3"},se=e("i",{class:"pi pi-check ml-2 text-green-400"},null,-1),ae={class:"p-3 md:p-4 lg:p-6 flex flex-column sm:flex-row align-items-center mt-auto border-top-1 surface-border gap-3"},oe={class:"flex w-full sm:w-auto gap-3"},ne={__name:"ChatBox",props:{user:{type:Object,required:!0}},emits:["send:message"],setup(t,{emit:h}){const l=x(123),c=h,i=x(null),n=x(""),_=["😀","😃","😄","😁","😆","😅","😂","🤣","😇","😉","😊","🙂","🙃","😋","😌","😍","🥰","😘","😗","😙","😚","🤪","😜","😝","😛","🤑","😎","🤓","🧐","🤠","🥳","🤗","🤡","😏","😶","😐","😑","😒","🙄","🤨","🤔","🤫","🤭","🤥","😳","😞","😟","😠","😡","🤬","😔","😟","😠","😡","🤬","😔","😕","🙁","😬","🥺","😣","😖","😫","😩","🥱","😤","😮","😱","😨","😰","😯","😦","😧","😢","😥","😪","🤤"],f=p=>new Date(p).toTimeString().split(":").slice(0,2).join(":"),s=()=>{if(n.value==""||n.value===" ")return;let p={text:n.value,ownerId:123,createdAt:new Date().getTime()};c("send:message",p),n.value=""},d=p=>{n.value=n.value+p,i.value.hide()};return(p,o)=>{const g=w("Button"),A=w("InputText"),I=w("OverlayPanel");return r(),m(b,null,[e("div",L,[e("div",M,[e("div",N,[e("img",{src:"/demo/images/avatar/"+t.user.image,alt:t.user.name,class:"w-4rem h-4rem border-circle shadow-4"},null,8,O),e("span",{class:U(["w-1rem h-1rem border-circle border-2 surface-border absolute bottom-0 right-0",{"bg-green-400":t.user.status==="active","bg-red-400":t.user.status==="busy","bg-yellow-400":t.user.status==="away"}])},null,2)]),e("div",q,[e("span",E,v(t.user.name),1),J]),e("div",K,[u(g,{type:"button",icon:"pi pi-phone",class:"mr-3",outlined:"",severity:"secondary",rounded:""}),u(g,{type:"button",icon:"pi pi-ellipsis-v",outlined:"",severity:"secondary",rounded:""})])]),e("div",P,[(r(!0),m(b,null,k(t.user.messages,a=>(r(),m("div",{key:a},[a.ownerId!==123?(r(),m("div",z,[e("div",F,[e("img",{src:"/demo/images/avatar/"+t.user.image,alt:t.user.name,class:"w-3rem h-3rem border-circle shadow-4"},null,8,G)]),e("div",H,[e("p",Q,v(t.user.name),1),e("span",R,v(a.text),1),e("p",W,[y(v(f(a.createdAt)),1),X])])])):$("",!0),a.ownerId===l.value?(r(),m("div",Y,[e("div",Z,[e("span",ee,v(a.text),1),e("p",te,[y(v(f(a.createdAt))+" ",1),se])])])):$("",!0)]))),128))]),e("div",ae,[u(A,{id:"message",type:"text",placeholder:"Type a message",class:"flex-1 w-full sm:w-auto border-round",modelValue:n.value,"onUpdate:modelValue":o[0]||(o[0]=a=>n.value=a),onKeydown:o[1]||(o[1]=V(a=>s(),["enter"]))},null,8,["modelValue"]),e("div",oe,[u(g,{class:"p-button w-full sm:w-auto justify-content-center text-xl",severity:"secondary",onClick:o[2]||(o[2]=a=>p.$refs.op.toggle(a))},{default:C(()=>[y("😀")]),_:1}),u(g,{label:"Send",icon:"pi pi-send",class:"w-full sm:w-auto",onClick:o[3]||(o[3]=a=>s())})])])]),u(I,{ref_key:"op",ref:i,class:"w-full sm:w-30rem"},{default:C(()=>[(r(),m(b,null,k(_,a=>u(g,{key:a,onClick:Ce=>d(a),type:"button",label:a,class:"p-2 text-2xl",text:""},null,8,["onClick","label"])),64))]),_:1},512)],64)}}},re="/AilinBaudinCV/assets/avatar-f-1@2x-18e5f236.png",le={class:"flex flex-nowrap justify-content-between align-items-center border-1 surface-border border-round p-3 cursor-pointer select-none hover:surface-hover transition-colors transition-duration-150",tabindex:"0"},ce={class:"flex align-items-center"},ie={class:"relative md:mr-3"},de=["src"],ue={class:"flex-column hidden md:flex"},me={class:"text-900 font-semibold block"},he={class:"block text-600 text-overflow-ellipsis overflow-hidden white-space-nowrap w-10rem text-sm"},pe={class:"text-700 font-semibold ml-auto hidden md:inline"},ve={__name:"UserCard",props:{user:{type:Object,required:!0}},setup(t){const h=t,l=T(()=>h.user.messages[h.user.messages.length-1].text);return(c,i)=>(r(),m("div",le,[e("div",ce,[e("div",ie,[e("img",{src:"/demo/images/avatar/"+t.user.image,alt:"user",class:"w-3rem h-3rem border-circle shadow-4"},null,8,de),e("span",{class:U(["w-1rem h-1rem border-circle border-2 surface-border absolute",{"bg-green-400":t.user.status==="active","bg-red-400":t.user.status==="busy","bg-yellow-400":t.user.status==="away"}]),style:{bottom:"2px",right:"2px"}},null,2)]),e("div",ue,[e("span",me,v(t.user.name),1),e("span",he,v(l.value),1)])]),e("span",pe,v(t.user.lastSeen),1)]))}},fe=e("div",{class:"flex flex-column align-items-center border-bottom-1 surface-border p-6"},[e("img",{src:re,class:"w-6rem h-6rem border-circle shadow-4",alt:"Asiya Javayant"}),e("span",{class:"text-900 text-xl font-semibold mt-4"},"Asiya Javayant")],-1),xe={class:"w-full flex row-gap-4 flex-column surface-border p-4"},_e={class:"p-input-icon-left w-full"},ge=e("i",{class:"pi pi-search"},null,-1),be={class:"flex flex-row gap-4 md:flex-column overflow-auto"},we={__name:"ChatSidebar",props:{users:{type:Array,default:()=>[]}},emits:["change:active:user"],setup(t,{emit:h}){const l=t,c=x([]),i=x(""),n=h;j(()=>l.users,s=>{c.value=s},{immediate:!0});const _=s=>{n("change:active:user",s)},f=async()=>{if(i.value===""){c.value=l.users;return}const s=c.value.filter(d=>d.name.toLowerCase().includes(i.value.toLowerCase()));c.value=[...s]};return(s,d)=>{const p=w("InputText");return r(),m(b,null,[fe,e("div",xe,[e("span",_e,[ge,u(p,{id:"search",type:"text",placeholder:"Search",class:"w-full",modelValue:i.value,"onUpdate:modelValue":d[0]||(d[0]=o=>i.value=o),onInput:f},null,8,["modelValue"])]),e("div",be,[(r(!0),m(b,null,k(c.value,o=>(r(),B(ve,{key:o,user:o,onClick:g=>_(o)},null,8,["user","onClick"]))),128))])])],64)}}},ye={class:"flex flex-column md:flex-row gap-5",style:{"min-height":"81vh"}},ke={class:"md:w-25rem card p-0"},$e={class:"flex-1 card p-0"},Ae={__name:"Index",setup(t){const h=x(1),l=x([]);S(async()=>{l.value=await c(),f()});const c=async()=>{const s=await fetch("/demo/data/chat.json"),{data:d}=await s.json();return d},i=s=>{h.value=s.id,f()},n=s=>{_().messages.push(s),f()},_=()=>l.value.find(s=>s.id===h.value)||{},f=async()=>{const s=document.querySelector(".user-message-container");await D(()=>{s.scroll({top:s.scrollHeight})})};return(s,d)=>(r(),m("div",ye,[e("div",ke,[u(we,{"onChange:active:user":i,users:l.value},null,8,["users"])]),e("div",$e,[u(ne,{"onSend:message":n,user:_()},null,8,["user"])])]))}};export{Ae as default};
