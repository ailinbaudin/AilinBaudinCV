import{q as I,r as m,o as O,K as j,L as P,a as p,h as K,b as u,l as b,j as a,e as i,d as l,c as $,C as B,x as S,t as k,i as w,F as W}from"./index-a0301d80.js";const z={class:"flex -ml-2"},H=l("div",null,null,-1),G={key:0,class:"w-4rem"},J=["onClick"],Q={key:1,class:"w-4rem"},X=["onClick"],Y=["onClick"],Z=["onClick"],ee={class:"p-input-icon-left"},te=l("i",{class:"pi pi-search"},null,-1),oe={style:{minWidth:"10rem"}},se={class:"flex justify-content-end w-full px-0"},le={ref:"actionRef",class:"action-buttons",style:{display:"none"}},ie={__name:"MailTypes",props:{mails:{type:Array}},emits:["spam","archive","trash","change:mail:type","reply"],setup(E,{emit:D}){const d=D,L=I(),g=m(null),x=m(null),r=m([]),N=m([{label:"Archive",icon:"pi pi-file",command:()=>f("archive")},{label:"Spam",icon:"pi pi-ban",command:()=>f("spam")},{label:"Delete",icon:"pi pi-trash",command:()=>f("trash")}]),v=m({global:{value:null,matchMode:W.CONTAINS}});O(()=>{y("addEventListener")}),j(async()=>{await y("removeEventListener"),await y("addEventListener")}),P(()=>{y("addEventListener")});const y=o=>{[...x.value.$el.querySelectorAll("tbody > tr")].forEach(s=>{s[o]("mouseenter",n=>C(n,s)),s[o]("mouseleave",n=>C(n,s))})},C=(o,t)=>{const s=t.querySelector(".action-buttons"),n=t.querySelector(".date-text");!s||!n||(o.type==="mouseenter"?(s.style.display="flex",n.style.display="none"):(s.style.display="none",n.style.display="flex"))},f=o=>{if(r.value.length!==0){for(const t of r.value)A(t);d(o,r.value),r.value=[]}},M=(o,t)=>{A(t),d(o,t),r.value=[]},T=(o,t)=>{d("change:mail:type",o,t,!t[o])},V=o=>{d("reply",o)},h=o=>{L.push({name:"mail-detail",params:{id:o}})},A=o=>{Object.keys(o).forEach(t=>{o[t]===!0&&(o[t]=!1)})};return(o,t)=>{const s=p("Column"),n=p("Button"),U=p("Menu"),R=p("Avatar"),q=p("InputText"),F=p("DataTable"),_=K("tooltip");return u(),b(F,{ref_key:"mailTable",ref:x,value:E.mails,selection:r.value,"onUpdate:selection":t[2]||(t[2]=e=>r.value=e),filters:v.value,"onUpdate:filters":t[3]||(t[3]=e=>v.value=e),rows:10,paginator:"",rowsPerPageOptions:[10,20,30],dataKey:"id",rowHover:"",globalFilterFields:["from","to","title","message"]},{default:a(()=>[i(s,{selectionMode:"multiple",style:{width:"4rem"}}),i(s,{style:{width:"8rem"}},{header:a(()=>[l("div",z,[i(n,{type:"button",icon:"pi pi-refresh",text:"",plain:"",rounded:""}),i(n,{type:"button",icon:"pi pi-ellipsis-v",class:"ml-3",text:"",plain:"",rounded:"",onClick:t[0]||(t[0]=e=>g.value.toggle(e))}),i(U,{ref_key:"menuRef",ref:g,popup:"",model:N.value,class:"w-8rem"},null,8,["model"])]),H]),body:a(({data:e})=>[!e.trash&&!e.spam?(u(),$("td",G,[l("span",{class:"cursor-pointer",onClick:c=>T("starred",e)},[l("i",{class:B(["pi pi-fw text-xl",{"pi-star-fill":e.starred,"pi-star":!e.starred}])},null,2)],8,J)])):S("",!0),!e.trash&&!e.spam?(u(),$("td",Q,[l("span",{class:"cursor-pointer ml-3",onClick:c=>T("important",e)},[l("i",{class:B(["pi pi-fw text-xl",{"pi-bookmark-fill":e.important,"pi-bookmark":!e.important}])},null,2)],8,X)])):S("",!0)]),_:1}),i(s,{style:{"min-width":"4rem"}},{body:a(({data:e})=>[e.image?(u(),b(R,{key:1,onClick:c=>h(e.id),id:e.id,image:`/demo/images/avatar/${e.image?e.image:".png"}`,class:"cursor-pointer"},null,8,["onClick","id","image"])):(u(),b(R,{key:0,icon:"pi pi-user",shape:"circle"}))]),_:1}),i(s,{style:{"min-width":"4rem"}},{body:a(({data:e})=>[l("div",{onClick:c=>h(e.id),style:{minWidth:"12rem"},class:"text-900 font-semibold cursor-pointer"},k(e.from||e.to),9,Y)]),_:1}),i(s,{style:{"min-width":"30rem"}},{body:a(({data:e})=>[l("span",{onClick:c=>h(e.id),class:"font-medium white-space-nowrap overflow-hidden text-overflow-ellipsis block cursor-pointer",style:{"max-width":"30rem"}},k(e.title),9,Z)]),_:1}),i(s,{field:"date"},{header:a(()=>[l("span",ee,[te,i(q,{type:"text",placeholder:"Search Mail",class:"w-full sm:w-auto",modelValue:v.value.global.value,"onUpdate:modelValue":t[1]||(t[1]=e=>v.value.global.value=e)},null,8,["modelValue"])])]),body:a(({data:e})=>[l("div",oe,[l("div",se,[l("span",{ref:"dateRef",class:"date-text text-700 font-semibold white-space-nowrap"},k(e.date),513),l("div",le,[w(i(n,{onClick:c=>M("archive",e),type:"button",icon:"pi pi-inbox",class:"h-2rem w-2rem mr-2"},null,8,["onClick"]),[[_,"Archive",void 0,{top:!0}]]),w(i(n,{onClick:c=>V(e),type:"button",icon:"pi pi-reply",class:"h-2rem w-2rem mr-2",severity:"secondary"},null,8,["onClick"]),[[_,"Reply",void 0,{top:!0}]]),w(i(n,{onClick:c=>M("trash",e),type:"button",icon:"pi pi-trash",class:"h-2rem w-2rem",severity:"danger"},null,8,["onClick"]),[[_,"Trash",void 0,{top:!0}]])],512)])])]),_:1})]),_:1},8,["value","selection","filters"])}}};export{ie as default};
